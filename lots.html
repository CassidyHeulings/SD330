<!--  page listing the available parking lots – with info about each – this is
read from your JSON file -->
<!DOCTYPE html>
<html lang="en">
    
    <head>
        <title>Marist Parking - Lots</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="parking.css">
    </head>

    <body>
        <!-- Top Bar Menu -->
        <div class="topBar">
            <a class="title" href="parking.html">Marist Parking</a>
            <div class="picture">
                <img src="images/pixelcar.jpeg" alt="pixel car" style="border-bottom-right-radius: 10px; border-top-right-radius: 10px;">
                <img src="images/pixelcar.jpeg" alt="pixel car">
                <img src="images/pixelcar.jpeg" alt="pixel car" style="border-bottom-left-radius: 10px; border-top-left-radius: 10px;">
            </div>
            <div class="buttons">
                <a href="error.html">Login</a>
                <a href="error.html">Help</a>
                <a href="lots.html">Lots</a>
                <a href="error.html">Tickets</a>
                <a href="error.html">Profile</a>
            </div>
        </div>

        <!-- Content -->
        <div class="lotsContent">
            <div class="lotHead">
                <h1>Parking Lots</h1>
            </div>
            <div class="column">
                <div class="lot">
                    <p class="lotImg" id="lowerWestPhoto">
                    <p class="lotText" id="lowerWest">
                </div>
                <div class="lot">
                    <p class="lotImg" id="mccannPhoto">
                    <p class="lotText" id="mccann">
                </div>
            </div>
            <div class="column">
                <div class="lot">
                    <p class="lotImg" id="foyPhoto">
                    <p class="lotText" id="foy">
                </div>
                <div class="lot">
                    <p class="lotImg" id="fontainePhoto">
                    <p class="lotText" id="fontaine">
                </div>
            </div>
            <div class="column">
                <div class="lot">
                    <p class="lotImg" id="donnellyPhoto">
                    <p class="lotText" id="donnelly">
                </div>
                <div class="lot">
                    <p class="lotImg" id="upperWestPhoto">
                    <p class="lotText" id="upperWest">
                </div>
                
            </div>
        </div>
        
        <script type="module">
            const response = await fetch("https://CassidyHeulings.github.io/SD330/parking.json");
            const data = await response.json();

            let lotArr = ['mccann', 'foy', 'donnelly', 'fontaine', 'lowerWest', 'upperWest'];

            for (let i=0; i<lotArr.length; i++) {
                let lotName = lotArr[i];

                let htmlString = "<h3>" + data['parkingLots'][lotName]['name'] + " Lot Information: </h3>";
                    htmlString += "<p>Total Spaces - " + data['parkingLots'][lotName]['totalSpaces'];
                    htmlString += "<p>Side of Campus - " + data['parkingLots'][lotName]['sideOfCampus'];
                    htmlString += "<p>Nearby Buildings - " + data['parkingLots'][lotName]['nearbyBuildings'];
                    htmlString += "<p>Comments - " + data['parkingLots'][lotName]['comments'];
                    if (lotName == 'mccann'){
                        htmlString += "<p><a href='spots.html'>Reserve a spot.</a>";
                    }
                    else {
                        htmlString += "<p><a href='error.html'>Reserve a spot.</a>";
                    }
                let htmlImg = "<img src='images/" + data['parkingLots'][lotName]['mapFilename'] + "' alt='" + lotName + " map'>";

                document.getElementById(lotArr[i]).innerHTML += htmlString;
                document.getElementById(lotArr[i] + 'Photo').innerHTML += htmlImg;
            }

        </script>

    </body>

    <br style="clear:both">
    <footer>
        <hr>
        <small>&copy;Cassidy Heulings, May 07 2024</small>
    </footer>

</html>